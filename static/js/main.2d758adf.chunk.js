(this["webpackJsonpfinding-falcone"]=this["webpackJsonpfinding-falcone"]||[]).push([[0],{100:function(n,e,t){"use strict";t.r(e);var a=t(4),c=t(0),i=t.n(c),o=t(11),r=t.n(o),s=(t(92),t(93),t(45)),u=t(13),l=t(19),d=t(150),j=t(77),p=t(143),f=t(149),b=t(145),h=t(5),O=t(72),m=t.n(O),g=t(74),v=t.n(g),x=t(73),y=t.n(x),k={apiURL:"".concat("https","://").concat("findfalcone.herokuapp.com")},z=t(33),C=t(48),w=t.n(C),S=function(n){var e=n.open,t=n.click,c=n.zIndex;return Object(a.jsx)("div",{className:e?w.a.backdrop:w.a.noBackdrop,onClick:t,role:"presentation",onKeyDown:function(n){27===n.keyCode&&t()},style:c?{zIndex:+c-50}:null})};S.defaultProps={zIndex:0,click:function(){}};var U=S,N=t(43),R=t(44);function I(){var n=Object(N.a)(["\n    position: absolute;\n    top: ",";\n    left: ",";\n    width: ",";\n    height: ",";\n    border-radius: 50%;\n    background-color: ",";\n    transform: translateX(",")\n        translateY(",") scale(0);\n    animation: "," 0.8s linear infinite;\n    animation-delay: ","s;\n"]);return I=function(){return n},n}function _(){var n=Object(N.a)(["\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: ",";\n    height: ",";\n"]);return _=function(){return n},n}function L(){var n=Object(N.a)(["\n  100% {\n    opacity: 0;\n    transform: translateX(","",")\n    translateY(","",") scale(1);\n  }\n"]);return L=function(){return n},n}var P=function(n){for(var e=n.countBalls,t=n.radius,c=n.angle,i=n.color,o=n.size,r=n.ballSize,s=n.sizeUnit,u=[],l=r/2,d=0;d<e;d+=1){var j=Math.sin(c*d*(Math.PI/180))*t-l,p=Math.cos(c*d*(Math.PI/180))*t-l;u.push(Object(a.jsx)(E,{color:i,ballSize:r,size:o,x:j,y:p,index:d,sizeUnit:s},d.toString()))}return u},B=function(n){var e=n.size,t=n.color,c=n.loading,i=n.sizeUnit,o=e/2,r=e/1.5;return c&&Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(a.jsx)(F,{size:e,sizeUnit:i,children:P({countBalls:7,radius:o,angle:51.42857142857143,color:t,size:e,ballSize:r,sizeUnit:i})})})},F=R.a.div(_(),(function(n){return"".concat(n.size).concat(n.sizeUnit)}),(function(n){return"".concat(n.size).concat(n.sizeUnit)})),E=R.a.div(I(),(function(n){return"".concat(n.size/2).concat(n.sizeUnit)}),(function(n){return"".concat(n.size/2).concat(n.sizeUnit)}),(function(n){return"".concat(n.ballSize).concat(n.sizeUnit)}),(function(n){return"".concat(n.ballSize).concat(n.sizeUnit)}),(function(n){return n.color}),(function(n){return"".concat(n.x).concat(n.sizeUnit)}),(function(n){return"".concat(n.y).concat(n.sizeUnit)}),(function(n){return function(n){return Object(R.b)(L(),n.x,n.sizeUnit,n.y,n.sizeUnit)}(n)}),(function(n){return.1*n.index}));B.defaultProps={loading:!0,size:30,color:"#00ff89",sizeUnit:"px"};var T=B,A=function(n){var e=n.open;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(U,{open:e}),e?Object(a.jsx)(T,{color:"blue"}):null]})},M=t(75),G=t(49),D=t.n(G),J=t(60),V=t.n(J),W=t(65),X=t.n(W),Y=t(66),H=t.n(Y),K=t(69),Z=t.n(K),q=t(67),Q=t.n(q),$=t(68),nn=t.n($),en=t(142),tn=t(152),an=t(141),cn=t(64),on=t.n(cn),rn=t(140),sn={success:V.a,warning:on.a,error:X.a,info:H.a},un=Object(rn.a)((function(n){return{success:{backgroundColor:Q.a[600]},error:{backgroundColor:n.palette.error.dark},info:{backgroundColor:n.palette.primary.dark},warning:{backgroundColor:nn.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:n.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function ln(n){var e=un(),t=n.className,c=n.message,i=n.onClose,o=n.variant,r=Object(M.a)(n,["className","message","onClose","variant"]),s=sn[o];return Object(a.jsx)(an.a,Object(u.a)({className:D()(e[o],t),"aria-describedby":"client-snackbar",message:Object(a.jsxs)("span",{id:"client-snackbar",className:e.message,children:[Object(a.jsx)(s,{className:D()(e.icon,e.iconVariant)}),c]}),action:[Object(a.jsx)(en.a,{"aria-label":"Close",color:"inherit",onClick:i,children:Object(a.jsx)(Z.a,{className:e.icon})},"close")]},r))}function dn(n){var e=n.variant,t=n.message,c=n.open,i=n.close;return Object(a.jsx)("div",{children:Object(a.jsx)(tn.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:c,autoHideDuration:3e3,onClose:i,children:Object(a.jsx)(ln,{onClose:i,variant:e,message:t})})})}ln.defaultProps={className:"",message:"",onClose:function(){}},dn.defaultProps={variant:"success",open:!1,message:"",close:function(){}};var jn=dn;function pn(n,e){var t=e.type,a=e.payload;switch(t){case"SUCCESS":return Object(u.a)(Object(u.a)({},n),{},{variant:"success",message:a,open:!0});case"ERROR":return Object(u.a)(Object(u.a)({},n),{},{variant:"error",message:a,open:!0});case"WARNING":return Object(u.a)(Object(u.a)({},n),{},{variant:"warning",message:a,open:!0});case"INFO":return Object(u.a)(Object(u.a)({},n),{},{variant:"info",message:a,open:!0});case"TURNOFF":return Object(u.a)(Object(u.a)({},n),{},{open:!1});default:return Object(u.a)({},n)}}var fn=Object(c.createContext)(null);function bn(n){var e=n.children,t=Object(c.useReducer)(pn,{variant:"success",message:"",open:!1}),i=Object(l.a)(t,2),o=i[0],r=i[1];var s=Object(c.useMemo)((function(){return{success:function(n){return r({type:"SUCCESS",payload:n})},error:function(n){return r({type:"ERROR",payload:n})},warning:function(n){return r({type:"WARNING",payload:n})},info:function(n){return r({type:"INFO",payload:n})}}}),[]),d=Object(c.useMemo)((function(){return Object(a.jsx)(fn.Provider,{value:s,children:e})}),[s,e]);return Object(a.jsxs)(a.Fragment,{children:[d,Object(a.jsx)(jn,Object(u.a)(Object(u.a)({},o),{},{close:function(){r({type:"TURNOFF"})}}))]})}bn.defaultProps={children:""};var hn=Object(h.a)((function(n){return{divider:{marginTop:n.spacing(2),marginBottom:n.spacing(2)},text:{padding:n.spacing(1,2,1),overflow:"auto",scrollbar:"smooth"},paper:{padding:n.spacing(1,2,1)},closeButton:{position:"absolute",right:n.spacing(1),top:n.spacing(1)},modal:{display:"flex",alignItems:"center",justifyContent:"center"},search:Object(z.a)({float:"right",position:"relative",borderRadius:n.shape.borderRadius,backgroundColor:"gray","&:hover":{backgroundColor:"lightgray"},marginLeft:0,width:"100%"},n.breakpoints.up("sm"),{marginLeft:n.spacing(1),width:"auto"}),searchIcon:{width:n.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(z.a)({padding:n.spacing(1,1,1,7),transition:n.transitions.create("width"),width:"100%"},n.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}}))((function(n){var e=n.classes,t=Object(c.useState)([]),i=Object(l.a)(t,2),o=i[0],r=i[1],h=Object(c.useState)([]),O=Object(l.a)(h,2),g=O[0],x=O[1],z=Object(c.useState)(!1),C=Object(l.a)(z,2),w=C[0],S=C[1],U=function(){var n=Object(c.useContext)(fn);if(!n)throw new Error("useAlert must be used within a AlertProvider");return n}(),N=Object(c.useState)([{planet:{name:"",distance:0},vehicle:{name:"",total_no:0,max_distance:0,speed:0}}]),R=Object(l.a)(N,2),I=R[0],_=R[1],L=Object(c.useState)({}),P=Object(l.a)(L,2),B=P[0],F=P[1],E=Object(c.useState)(0),T=Object(l.a)(E,2)[1],M=Object(c.useState)(!1),G=Object(l.a)(M,2),D=G[0],J=G[1];Object(c.useEffect)((function(){S(!0),fetch("".concat(k.apiURL,"/token"),{method:"POST",headers:{Accept:"application/json"},body:{}}).then((function(n){return S(!1),200===n.status?n.json():n})).then((function(n){F(n)})).catch((function(){S(!1)})),S(!0),fetch("".concat(k.apiURL,"/planets"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(n){return S(!1),200===n.status?n.json():n})).then((function(n){var e=n.map((function(n,e){return n.id=e,n.position="",n}));r(e)})).catch((function(){S(!1)})),S(!0),fetch("".concat(k.apiURL,"/vehicles"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(n){return S(!1),200===n.status?n.json():n})).then((function(n){var e=[],t=0;n.forEach((function(n){for(var a=0;a<n.total_no;a+=1){var c=Object(u.a)({},n);c.id=t,c.position="",e.push(c),t+=1}})),x(e)})).catch((function(){S(!1)}))}),[]);Object(c.useEffect)((function(){var n=I.reduce((function(n,e){return n+(e.planet&&e.vehicle?e.planet.distance/e.vehicle.speed:0)}),0);n&&T(n)}),[I]);var V=function(){I.length>=4?U.warning("Only 4 tours allowed!"):_((function(n){return[].concat(Object(s.a)(n),[{planet:{name:"",distance:0},vehicle:{name:"",total_no:0,max_distance:0,speed:0}}])}))},W=function(n,e,t,a,c,i){var o=Object(u.a)({},e),r=Object(s.a)(I);o[i]=n,r[t]=o,_(r);var l=Object(s.a)(a),d=l.find((function(n){return n.position===t}));d&&(d.position="",l[d.id]=d),n&&(l[n.id].position=t),c(l)};return Object(c.useEffect)((function(){D&&(U.warning("Length issue........"),J(!1))}),[D]),Object(a.jsxs)(j.a,{className:e.paper,children:[Object(a.jsx)(p.a,{container:!0,children:0!==I.length&&I.map((function(n,e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(p.a,{item:!0,md:3,children:[Object(a.jsx)(d.a,{value:n.vehicle,onChange:function(t,a){W(a,n,e,g,x,"vehicle")},options:g.filter((function(n){return""===n.position||n.position===e})),getOptionLabel:function(n){return n.name&&"".concat(n.name," (Max Distance: ").concat(n.max_distance,")")},style:{width:300},renderInput:function(n){return Object(a.jsx)(f.a,Object(u.a)(Object(u.a)({},n),{},{label:"Choose a Vehicle",variant:"outlined"}))}},"vehicles-autocomplete-".concat(e)),Object(a.jsx)("br",{}),Object(a.jsx)(d.a,{value:n.planet,onChange:function(t,a){W(a,n,e,o,r,"planet")},options:o.filter((function(n){return""===n.position||n.position===e})),getOptionLabel:function(n){return n.name&&"".concat(n.name," (Distance: ").concat(n.distance,")")},style:{width:300},renderInput:function(n){return Object(a.jsx)(f.a,Object(u.a)(Object(u.a)({},n),{},{label:"Choose a Planet",variant:"outlined"}))}},"planets-autocomplete-".concat(e)),Object(a.jsx)("br",{}),Object(a.jsxs)(b.a,{color:"primary",variant:"contained",onClick:V,children:[Object(a.jsx)(m.a,{}),"Add tour"]}),Object(a.jsx)("br",{})]},"tourList-".concat(e))})}))},4),Object(a.jsxs)(b.a,{disabled:I.length<4||I.some((function(n){var e,t;return!(null===(e=n.planet)||void 0===e?void 0:e.name)||!(null===(t=n.vehicle)||void 0===t?void 0:t.name)})),color:"secondary",variant:"contained",onClick:function(){if(B.token){S(!0);var n=JSON.stringify({token:B.token,planet_names:I.map((function(n){return n.planet.name})),vehicle_names:I.map((function(n){return n.vehicle.name}))});fetch("".concat(k.apiURL,"/find"),{method:"POST",headers:{Accept:"application/json"},body:n}).then((function(n){return S(!1),200===n.status?n.json():n})).then((function(n){U.success("success"===n.status?"Falcone found at ".concat(n.planet_name):"Not found. Better luck next time!")})).catch((function(){U.error("An error occured."),S(!1)}))}},children:[Object(a.jsx)(y.a,{}),"Submit"]}),Object(a.jsxs)(b.a,{color:"secondary",variant:"contained",style:{marginLeft:"20px"},onClick:function(){r(o.map((function(n){return n.position="",n}))),x(g.map((function(n){return n.position="",n}))),_([{planet:{name:"",distance:0},vehicle:{name:"",total_no:0,max_distance:0,speed:0}}])},children:[Object(a.jsx)(v.a,{}),"Reset"]}),Object(a.jsx)(A,{open:w})]})})),On=t(146),mn=t(147),gn=t(148),vn=Object(rn.a)((function(n){return{root:{flexGrow:1},menuButton:{marginRight:n.spacing(2)},title:{flexGrow:1}}}));function xn(){var n=vn();return Object(a.jsx)("div",{className:n.root,children:Object(a.jsx)(On.a,{position:"static",children:Object(a.jsx)(mn.a,{children:Object(a.jsx)(gn.a,{variant:"h6",className:n.title,children:"Planets Tour"})})})})}var yn=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(xn,{}),Object(a.jsx)(hn,{})]})},kn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,153)).then((function(e){var t=e.getCLS,a=e.getFID,c=e.getFCP,i=e.getLCP,o=e.getTTFB;t(n),a(n),c(n),i(n),o(n)}))};r.a.render(Object(a.jsx)(bn,{children:Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(yn,{})})}),document.getElementById("root")),kn()},48:function(n,e,t){n.exports={backdrop:"Backdrop_backdrop__1Zzhb",noBackdrop:"Backdrop_noBackdrop__2BJOL"}},92:function(n,e,t){},93:function(n,e,t){}},[[100,1,2]]]);
//# sourceMappingURL=main.2d758adf.chunk.js.map